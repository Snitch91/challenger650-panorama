<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Challenger 650 Virtual Tour</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.css"/>
  <script src="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    #panorama {
      width: 100%;
      height: 100vh;
    }

    /* FIXED pulzáló hotspot a képernyő közepén */
    .fixed-hotspot {
      width: 20px;
      height: 20px;
      background: #00aaff;
      border-radius: 50%;
      position: fixed; /* FONTOS: mindig a képernyőn marad */
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      cursor: pointer;
    }

    .fixed-hotspot::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: rgba(0,170,255,0.5);
      animation: pulse 1.8s infinite;
      top: 0;
      left: 0;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        opacity: 0.7;
      }
      70% {
        transform: scale(2);
        opacity: 0.3;
      }
      100% {
        transform: scale(2.5);
        opacity: 0;
      }
    }

  </style>
</head>
<body>

<div id="panorama"></div>
<div class="fixed-hotspot" id="hotspot"></div>

<script>
  // Pannellum viewer inicializálása
  var viewer = pannellum.viewer('panorama', {
      "default": {
          "firstScene": "cockpit",
          "autoLoad": true,
          "sceneFadeDuration": 1000
      },
      "scenes": {
          "cockpit": {
              "type": "equirectangular",
              "panorama": "Cockpit.jpg",
          },
          "passenger": {
              "type": "equirectangular",
              "panorama": "Passenger.png",
          }
      }
  });

  // Fixed hotspot kattintás
  var hotspot = document.getElementById('hotspot');
  var currentScene = "cockpit";

  hotspot.addEventListener('click', function() {
      if(currentScene === "cockpit") {
          viewer.loadScene("passenger");
          currentScene = "passenger";
      } else {
          viewer.loadScene("cockpit");
          currentScene = "cockpit";
      }
  });
</script>

</body>
</html>
